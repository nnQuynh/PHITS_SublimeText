 file = phits.inp

[ Title ]
Voxel phantom automatically generated by dicom2phits

[ Parameters ]
 icntl    =           0     # (D=0) 3:ECH 5:NOR 6:SRC 7,8:GSH 11:DSH 12:DUMP
 maxcas   =        5000     # (D=10) number of particles per one batch
 maxbch   =           2     # (D=10) number of batches
 file(6)  = phits.out       # (D=phits.out) general output file name
   ivoxel = 1
 file(18) = voxel.bin

$ Optimized for Photon Therapy
 emin(2)  = 1.000000000E-10 # (D=1.0) cut-off energy of neutron (MeV)
 dmax(2)  =  20.0000000     # (D=emin(2)) data max. energy of neutron (MeV)
 emin(12) = 1.000000000E-01 # (D=1.d9) cut-off energy of electron (MeV)
 emin(13) = 1.000000000E-01 # (D=1.d9) cut-off energy of positron (MeV)
 emin(14) = 1.000000000E-03 # (D=1.d9) cut-off energy of photon (MeV)
 dmax(12) =  1000.00000     # (D=emin(12)) data max. energy of electron (MeV)
 dmax(13) =  1000.00000     # (D=emin(13)) data max. energy of positron (MeV)
 dmax(14) =  1000.00000     # (D=emin(14)) data max. energy of photon (MeV)
 igamma   =           2     # (D=0) 0:No, 1:Old, 2:EBITEM, 3:EBITEM+Isomer
 ipnint   =           1     # (D=0) 0: no, 1: consider photo-nuclear reaction
 negs     =           0     # (D=0) =1 EGS photon and electron
$ Library data paths for file(7) & file(20)
 infl:{libpath.inp}

$ parameters
set: c81[   64]  $ number of x pixel
set: c82[   64]  $ number of y pixel
set: c83[   37]  $ number of z pixel
set: c84[     1.01562] $ unit voxel x
set: c85[     1.01562] $ unit voxel y
set: c86[     1.00000] $ unit voxel z
set: c87[-c81*c84/2] $ smallest x
set: c88[-c82*c85/2] $ smallest y
set: c89[-c83*c86/2] $ smallest z
set: c90[     0.00001] $ small quota

[ Transform ]
$ Transform voxel phatom
set: c71[0]   $ angle of around Z (degree)
set: c72[0]   $ angle of around Y (degree)
set: c73[0]   $ angle of around X (degree)
set: c74[0]   $ displacement of Z (cm)
set: c75[0]   $ displacement of Y (cm)
set: c76[0]   $ displacement of X (cm)
tr500 c76 c75 c74
     cos(c71/180*pi)*cos(c72/180*pi)
     sin(c71/180*pi)*cos(c73/180*pi)+cos(c71/180*pi)*sin(c72/180*pi)*sin(c73/180*pi)
     sin(c71/180*pi)*sin(c73/180*pi)-cos(c71/180*pi)*sin(c72/180*pi)*cos(c73/180*pi)
      -sin(c71/180*pi)*cos(c72/180*pi)
     cos(c71/180*pi)*cos(c73/180*pi)-sin(c71/180*pi)*sin(c72/180*pi)*sin(c73/180*pi)
     cos(c71/180*pi)*sin(c73/180*pi)+sin(c71/180*pi)*sin(c72/180*pi)*cos(c73/180*pi)
     sin(c72/180*pi)
     -cos(c72/180*pi)*sin(c73/180*pi)
     cos(c72/180*pi)*cos(c73/180*pi)
     1

[ Source ]
 s-type = 4
     x0 =      0.00000
     y0 =   -105.00000
     z0 =      0.00000
     z1 =      0.00000
     r0 =      0.0
    dir =      0.0
    phi =  90
    dom =  20
   proj =  photon
$     e0 =  20.0
 e-type = 1
     ne = 28
 infl:{spectrum.inp}

[ Surface ]
$ Unit voxel at smallest x & y
 5000 rpp c87 c87+c84 c88 c88+c85 c89 c89+c86
$ Outer region
   99 so 500
$ Main Space
   97 rpp c87+c90 c87+c81*c84-c90 c88+c90 c88+c82*c85-c90 c89+c90 c89+c83*c86-c90
   98 500 rpp c87+c90 c87+c81*c84-c90 c88+c90 c88+c82*c85-c90 c89+c90 c89+c83*c86-c90
   10 rpp  -7.5 -4.0  -51. -50.  1.5 4.5
   11 rpp  -20. 20.  -51. -50.  -20. 20.

[ Cell ]
$ Material universe
 infl:{universe.inp}
$ Voxel universe
 5000 0 -5000 lat=1 u=5000
      fill= 0:  63 0:  63 0:  36
$ infl:{voxel.inp}
$ The above line should be commented out when ivoxel=1
$ Main space
   97  0   -97 trcl=500 fill=5000 $ Region filled with voxel phantom
   98  0   -99 98 #100               $ Void
   99 -1    99                    $ Outer region
  100 -1   10 -11

[ Material ]

$ Additional material should be defined above
 infl:{material.inp}
$ Additional mat color should be defined below

[ T-3Dshow ]
   title  = [t-3dshow: icntl=11]
   file   = CT3D.out
       x0 =      0.00000
       y0 =      0.00000
       z0 =      0.00000
    e-the =  60.0000
    e-phi =  290.00000
    l-the =  40.0000
    l-phi =  310.00000
    w-wdt =     77.99998
    w-hgt =     89.75164
    w-dst =    269.25493
   heaven =   z
    resol =   1
   shadow =   1
   epsout =   1
 material =  -1
             5001

[ T-Deposit ]
 title  = [t-deposit: icntl=0]
 file   = deposit-xy.out
 mesh   = xyz
 x-type = 2
 nx     =   64
 xmin   =    -35.74999
 xmax   =     35.74999
 y-type = 2
 ny     =   64
 ymin   =    -35.74999
 ymax   =     35.74999
 z-type = 2
 nz     =    1
 zmin   =     -0.50000
 zmax   =      0.50000
 unit   = 2
 axis   = xy
 gshow  = 1
 gslat  = 0
 output = dose
 epsout = 1
$ resol  = 2

[ T-Deposit ]
 title  = [t-deposit: icntl=0]
 file   = deposit-xz.out
 mesh   = xyz
 x-type = 2
 nx     =   64
 xmin   =    -35.74999
 xmax   =     35.74999
 y-type = 2
 ny     =    1
 ymin   =      0.00000
 ymax   =      1.01562
 z-type = 2
 nz     =   37
 zmin   =    -20.35000
 zmax   =     20.35000
 unit   = 2
 axis   = xz
 gshow  = 1
 gslat  = 0
 output = dose
 epsout = 1
$ resol  = 2

[ T - T r a c k ]
    title = Track Detection in xyz mesh
     mesh =  xyz            # mesh type is xyz scoring mesh
   x-type =    2            # x-mesh is linear given by xmin, xmax and nx
       nx =  100            # number of x-mesh points
     xmin =  -50.           # minimum value of x-mesh points
     xmax =   50.           # maximum value of x-mesh points
   y-type =    2            # y-mesh is linear given by ymin, ymax and ny
       ny =  160            # number of y-mesh points
     ymin = -120.           # minimum value of y-mesh points
     ymax =   40.           # maximum value of y-mesh points
   z-type =    1            # z-mesh is given by the below data
       nz =    1            # number of z-mesh points
           -20.0  20.0
   e-type =    1            # e-mesh is given by the below data
       ne =    1            # number of e-mesh points
            0.0  5000.0
     unit =    1            # unit is [1/cm^2/source]
     axis =   xy            # axis of output
     file = track_xy.out  # file name of output for the above axis
     part =  all      
    gshow =    1            # 0: no 1:bnd, 2:bnd+mat, 3:bnd+reg 4:bnd+lat
   epsout =    1            # (D=0) generate eps file by ANGEL

[ T - P r o d u c t ]
    title = Particle production in xyz mesh
     mesh =  xyz            # mesh type is xyz scoring mesh
   x-type =    2            # x-mesh is linear given by xmin, xmax and nx
     xmin =   -5.00000      # minimum value of x-mesh points
     xmax =    5.00000      # maximum value of x-mesh points
       nx =    1            # number of x-mesh points
   y-type =    2            # y-mesh is linear given by ymin, ymax and ny
     ymin = -110.0000       # minimum value of y-mesh points
     ymax = -100.0000       # maximum value of y-mesh points
       ny =    1            # number of y-mesh points
   z-type =    2            # z-mesh is linear given by zmin, zmax and nz
     zmin =   -5.00000      # minimum value of z-mesh points
     zmax =    5.00000      # maximum value of z-mesh points
       nz =    1            # number of z-mesh points
   e-type =    2            # e-mesh is log given by emin, emax and ne
     emin =     0.0000      # minimum value of e-mesh points
     emax =    10.0000      # maximum value of e-mesh points
       ne =   100           # number of e-mesh points
     unit =    3            # unit is [1/MeV/source]
     axis =  eng            # axis of output
     file = product_source.out  # file name of output for the above axis
   output = source          # (D=nuclear) source distribution
     part =  photon   
   epsout =    1            # (D=0) generate eps file by ANGEL

[ T - T r a c k ]
    title = Track Detection in xyz mesh
     mesh =  xyz            # mesh type is xyz scoring mesh
   x-type =    2            # x-mesh is linear given by xmin, xmax and nx
       nx =   70            # number of x-mesh points
     xmin =  -35.           # minimum value of x-mesh points
     xmax =   35.           # maximum value of x-mesh points
   y-type =    1            # y-mesh is given by the below data
       ny =    1            # number of y-mesh points
           -11.0  -10.0
   z-type =    2            # y-mesh is linear given by ymin, ymax and ny
       nz =   40            # number of y-mesh points
     zmin =  -20.           # minimum value of y-mesh points
     zmax =   20.           # maximum value of y-mesh points
   e-type =    1            # e-mesh is given by the below data
       ne =    1            # number of e-mesh points
            0.0  5000.0
     unit =    1            # unit is [1/cm^2/source]
     axis =   xz            # axis of output
     file = track_xz.out  # file name of output for the above axis
     part =  all      
    gshow =    0            # 0: no 1:bnd, 2:bnd+mat, 3:bnd+reg 4:bnd+lat
   epsout =    1            # (D=0) generate eps file by ANGEL

[ End ]
